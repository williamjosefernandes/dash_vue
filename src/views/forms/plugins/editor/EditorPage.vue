<script setup>
import { ref } from 'vue';
import { useEditor, EditorContent } from '@tiptap/vue-3';
import BaseBreadcrumb from '@/components/shared/BaseBreadcrumb.vue';
import TaskList from '@tiptap/extension-task-list';
import TaskItem from '@tiptap/extension-task-item';
import Hightlight from '@tiptap/extension-highlight';
import StarterKit from '@tiptap/starter-kit';
import UiParentCard from '@/components/shared/UiParentCard.vue';
import EditorMenubar from '@/components/forms/plugins/editor/EditorMenubar.vue';

const page = ref({ title: 'Editor' });
const breadcrumbs = ref([
  {
    title: 'Plugins',
    disabled: false,
    href: '#'
  },
  {
    title: 'Editor',
    disabled: true,
    href: '#'
  }
]);

const editor = useEditor({
  extensions: [StarterKit, TaskList, TaskItem, Hightlight],
  content: `
  <h2>Hi there,</h2>
      <p>
        this is a <em>basic</em> example of <strong>tiptap</strong>. Sure, there
        are all kind of basic text styles you‚Äôd probably expect from a text
        editor. But wait until you see the lists:
      </p>
      <ul>
        <li>That‚Äôs a bullet list with one ‚Ä¶</li>
        <li>‚Ä¶ or two list items.</li>
      </ul>
      <p>
        Isn‚Äôt that great? And all of that is editable. But wait, there‚Äôs more.
        Let‚Äôs try a code block:
      </p>
      <pre><code class="language-css">body {
  display: none;
}</code></pre>
      <p>
        I know, I know, this is impressive. It‚Äôs only the tip of the iceberg
        though. Give it a try and click a little bit around. Don‚Äôt forget to
        check the other examples too.
      </p>
      <blockquote>
        Wow, that‚Äôs amazing. Good work, boy! üëè
        <br />
        ‚Äî Mom
      </blockquote>
      `
});
</script>

<template>
  <BaseBreadcrumb :title="page.title" :breadcrumbs="breadcrumbs"></BaseBreadcrumb>
  <v-row>
    <v-col>
      <UiParentCard title="Editor">
        <div v-if="editor">
          <EditorMenubar :editor="editor" />
        </div>
        <editor-content :editor="editor" />
      </UiParentCard>
    </v-col>
  </v-row>
</template>

<style lang="scss"></style>
